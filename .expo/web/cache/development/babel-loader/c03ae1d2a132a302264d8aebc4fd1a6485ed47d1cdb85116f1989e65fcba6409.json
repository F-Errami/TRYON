{"ast":null,"code":"import _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nvar _excluded = [\"children\"];\nimport _extends from '@babel/runtime/helpers/esm/extends';\nimport * as THREE from 'three';\nimport * as React from 'react';\nimport { extend, useThree, useFrame } from '@react-three/fiber';\nimport { RenderTexture } from \"./RenderTexture.js\";\nimport { shaderMaterial } from \"./shaderMaterial.js\";\nvar PortalMaterial = shaderMaterial({\n  map: null,\n  resolution: new THREE.Vector2()\n}, `void main() {\n     gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n   }`, `uniform sampler2D map;\n   uniform vec2 resolution;\n   void main() {\n     vec2 uv = gl_FragCoord.xy / resolution.xy;\n     vec4 t = texture2D(map, uv);\n     gl_FragColor = texture2D(map, uv);\n     #include <tonemapping_fragment>\n     #include <encodings_fragment>\n   }`);\nvar MeshPortalMaterial = React.forwardRef(function (_ref, fref) {\n  var children = _ref.children,\n    props = _objectWithoutProperties(_ref, _excluded);\n  extend({\n    PortalMaterial: PortalMaterial\n  });\n  var ref = React.useRef(null);\n  var group = React.useRef(null);\n  var _useThree = useThree(),\n    size = _useThree.size,\n    events = _useThree.events,\n    viewport = _useThree.viewport;\n  useFrame(function () {\n    var _ref$current;\n    var parent = (_ref$current = ref.current) == null ? void 0 : _ref$current.__r3f.parent;\n    if (parent) {\n      group.current.matrix.copy(parent.matrixWorld);\n    }\n  });\n  React.useImperativeHandle(fref, function () {\n    return ref.current;\n  });\n  return React.createElement(\"portalMaterial\", _extends({\n    ref: ref,\n    resolution: [size.width * viewport.dpr, size.height * viewport.dpr],\n    toneMapped: false\n  }, props), React.createElement(RenderTexture, {\n    attach: \"map\",\n    compute: events.compute\n  }, React.createElement(\"group\", {\n    onPointerOver: function onPointerOver() {\n      return null;\n    },\n    matrixAutoUpdate: false,\n    ref: group\n  }, children)));\n});\nexport { MeshPortalMaterial };","map":{"version":3,"names":["_extends","THREE","React","extend","useThree","useFrame","RenderTexture","shaderMaterial","PortalMaterial","map","resolution","Vector2","MeshPortalMaterial","forwardRef","_ref","fref","children","props","_objectWithoutProperties","_excluded","ref","useRef","group","_useThree","size","events","viewport","_ref$current","parent","current","__r3f","matrix","copy","matrixWorld","useImperativeHandle","createElement","width","dpr","height","toneMapped","attach","compute","onPointerOver","matrixAutoUpdate"],"sources":["C:/Users/jouai/Desktop/Telecom/S9/image/Projet vision/TRYON/node_modules/@react-three/drei/core/MeshPortalMaterial.js"],"sourcesContent":["import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as THREE from 'three';\nimport * as React from 'react';\nimport { extend, useThree, useFrame } from '@react-three/fiber';\nimport { RenderTexture } from './RenderTexture.js';\nimport { shaderMaterial } from './shaderMaterial.js';\n\nconst PortalMaterial = shaderMaterial({\n  map: null,\n  resolution: new THREE.Vector2()\n}, `void main() {\n     gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n   }`, `uniform sampler2D map;\n   uniform vec2 resolution;\n   void main() {\n     vec2 uv = gl_FragCoord.xy / resolution.xy;\n     vec4 t = texture2D(map, uv);\n     gl_FragColor = texture2D(map, uv);\n     #include <tonemapping_fragment>\n     #include <encodings_fragment>\n   }`);\nconst MeshPortalMaterial = /*#__PURE__*/React.forwardRef(({\n  children,\n  ...props\n}, fref) => {\n  extend({\n    PortalMaterial\n  });\n  const ref = React.useRef(null);\n  const group = React.useRef(null);\n  const {\n    size,\n    events,\n    viewport\n  } = useThree();\n  useFrame(() => {\n    var _ref$current;\n\n    let parent = (_ref$current = ref.current) == null ? void 0 : _ref$current.__r3f.parent;\n\n    if (parent) {\n      group.current.matrix.copy(parent.matrixWorld);\n    }\n  });\n  React.useImperativeHandle(fref, () => ref.current);\n  return /*#__PURE__*/React.createElement(\"portalMaterial\", _extends({\n    // @ts-ignore\n    ref: ref,\n    resolution: [size.width * viewport.dpr, size.height * viewport.dpr],\n    toneMapped: false\n  }, props), /*#__PURE__*/React.createElement(RenderTexture, {\n    attach: \"map\",\n    compute: events.compute\n  }, /*#__PURE__*/React.createElement(\"group\", {\n    onPointerOver: () => null,\n    matrixAutoUpdate: false,\n    ref: group\n  }, children)));\n});\n\nexport { MeshPortalMaterial };\n"],"mappings":";;AAAA,OAAOA,QAAQ,MAAM,oCAAoC;AACzD,OAAO,KAAKC,KAAK,MAAM,OAAO;AAC9B,OAAO,KAAKC,KAAK,MAAM,OAAO;AAC9B,SAASC,MAAM,EAAEC,QAAQ,EAAEC,QAAQ,QAAQ,oBAAoB;AAC/D,SAASC,aAAa;AACtB,SAASC,cAAc;AAEvB,IAAMC,cAAc,GAAGD,cAAc,CAAC;EACpCE,GAAG,EAAE,IAAI;EACTC,UAAU,EAAE,IAAIT,KAAK,CAACU,OAAO,CAAC;AAChC,CAAC,EAAG;AACJ;AACA,KAAK,EAAG;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK,CAAC;AACN,IAAMC,kBAAkB,GAAgBV,KAAK,CAACW,UAAU,CAAC,UAAAC,IAAA,EAGtDC,IAAI,EAAK;EAAA,IAFVC,QAAQ,GAAAF,IAAA,CAARE,QAAQ;IACLC,KAAK,GAAAC,wBAAA,CAAAJ,IAAA,EAAAK,SAAA;EAERhB,MAAM,CAAC;IACLK,cAAc,EAAdA;EACF,CAAC,CAAC;EACF,IAAMY,GAAG,GAAGlB,KAAK,CAACmB,MAAM,CAAC,IAAI,CAAC;EAC9B,IAAMC,KAAK,GAAGpB,KAAK,CAACmB,MAAM,CAAC,IAAI,CAAC;EAChC,IAAAE,SAAA,GAIInB,QAAQ,CAAC,CAAC;IAHZoB,IAAI,GAAAD,SAAA,CAAJC,IAAI;IACJC,MAAM,GAAAF,SAAA,CAANE,MAAM;IACNC,QAAQ,GAAAH,SAAA,CAARG,QAAQ;EAEVrB,QAAQ,CAAC,YAAM;IACb,IAAIsB,YAAY;IAEhB,IAAIC,MAAM,GAAG,CAACD,YAAY,GAAGP,GAAG,CAACS,OAAO,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGF,YAAY,CAACG,KAAK,CAACF,MAAM;IAEtF,IAAIA,MAAM,EAAE;MACVN,KAAK,CAACO,OAAO,CAACE,MAAM,CAACC,IAAI,CAACJ,MAAM,CAACK,WAAW,CAAC;IAC/C;EACF,CAAC,CAAC;EACF/B,KAAK,CAACgC,mBAAmB,CAACnB,IAAI,EAAE;IAAA,OAAMK,GAAG,CAACS,OAAO;EAAA,EAAC;EAClD,OAAoB3B,KAAK,CAACiC,aAAa,CAAC,gBAAgB,EAAEnC,QAAQ,CAAC;IAEjEoB,GAAG,EAAEA,GAAG;IACRV,UAAU,EAAE,CAACc,IAAI,CAACY,KAAK,GAAGV,QAAQ,CAACW,GAAG,EAAEb,IAAI,CAACc,MAAM,GAAGZ,QAAQ,CAACW,GAAG,CAAC;IACnEE,UAAU,EAAE;EACd,CAAC,EAAEtB,KAAK,CAAC,EAAef,KAAK,CAACiC,aAAa,CAAC7B,aAAa,EAAE;IACzDkC,MAAM,EAAE,KAAK;IACbC,OAAO,EAAEhB,MAAM,CAACgB;EAClB,CAAC,EAAevC,KAAK,CAACiC,aAAa,CAAC,OAAO,EAAE;IAC3CO,aAAa,EAAE,SAAAA,cAAA;MAAA,OAAM,IAAI;IAAA;IACzBC,gBAAgB,EAAE,KAAK;IACvBvB,GAAG,EAAEE;EACP,CAAC,EAAEN,QAAQ,CAAC,CAAC,CAAC;AAChB,CAAC,CAAC;AAEF,SAASJ,kBAAkB"},"metadata":{},"sourceType":"module","externalDependencies":[]}